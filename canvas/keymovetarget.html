<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Canvas Test</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
		<style>

		</style>
  </head>
<body>

	<div class="wrap">
    <canvas id="canvas" width="300" height="200">
        This text is displayed if your browser does not support HTML5 Canvas.
    </canvas>
  </div>

  <script src="https://dl.dropboxusercontent.com/u/50502234/jquery.min.js"></script>
  <script>; 
    var canvas;
    var ctx;
    var dx = 5;
    var dy = 5;
    var x = 150;
    var y = 100;
    var WIDTH = 300;
    var HEIGHT = 200;

    function circle(x,y,r) {
      ctx.beginPath();
      ctx.arc(x, y, r, 0, Math.PI*2, true);
      ctx.fill();
    }

    function rect(x,y,w,h) {
      ctx.beginPath();
      ctx.rect(x,y,w,h);
      ctx.closePath();
      ctx.fill();
      ctx.stroke();
    }

    function clear() {
      ctx.clearRect(0, 0, WIDTH, HEIGHT);
    }

    function init() {
      canvas = document.getElementById("canvas");
      ctx = canvas.getContext("2d");
      return setInterval(draw, 10);
    }

    var keys = new Array();
    
    function doKeyDown(evt){
      keys[evt.keyCode] = true;
    }
    function doKeyUp(evt){
      keys[evt.keyCode] = false;
    }
    function move(){
      if (38 in keys && keys[38]){ //up
        if (y - dy > 0) y -= dy;
      }
      if (40 in keys && keys[40]){ //down
       if (y + dy < HEIGHT) y += dy;
      }
      if (37 in keys && keys[37]){ //left
       if (x - dx > 0) x -= dx;
      }
      if (39 in keys && keys[39]){ //right
       if (x + dx < WIDTH) x += dx;
      }
    }

    function draw() {
      move();
      clear();
      ctx.fillStyle = "white";
      ctx.strokeStyle = "black";
      rect(0,0,WIDTH,HEIGHT);
      ctx.fillStyle = "purple";
      circle(x, y, 10);
    }

    init();
    window.addEventListener('keydown',doKeyDown,true);
    window.addEventListener('keyup',doKeyUp,true);
  </script>
</body>

</html>
